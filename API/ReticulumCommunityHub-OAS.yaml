openapi: 3.0.1
info:
  title: ReticulumCommunityHub
  version: '2026.01.11'
  description: >-
    Abstract service for Reticulum Community Hub. This API manages subscribers, topics, client lists, and provides hub join/leave functionality over a Reticulum-based network.
  contact:
    name: FTTeam
    url: https://github.com/FreeTAKTeam
    email: FreeTAKTeam@gmail.com
  license:
    name: EPL
paths:
  /Help:
    get:
      x-scope: public
      x-lxmf-command: Help
      tags:
       - Command
      summary: Return the list of supported commands.
      responses:
        '200':
          description: Markdown formatted command list.
          content:
            text/plain:
              schema:
                type: string
  /Examples:
    get:
      x-scope: public
      x-lxmf-command: Examples
      tags:
       - Command
      summary: Return command descriptions and JSON payload examples.
      responses:
        '200':
          description: Markdown formatted command examples.
          content:
            text/plain:
              schema:
                type: string
  /Status:
    get:
      x-scope: protected
      x-lxmf-command: GetStatus
      tags:
       - Status
      summary: Return dashboard status metrics.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Status snapshot for admin dashboards.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
  /Events:
    get:
      x-scope: protected
      x-lxmf-command: ListEvents
      tags:
       - Status
      summary: Return recent hub events.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Recent event entries.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Event'
  /Control/Announce:
    post:
      x-scope: protected
      tags:
       - Control
      summary: Send an immediate Reticulum announce.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Announce request acknowledged.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                required:
                  - status
        '503':
          description: Announce unavailable.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /events/system:
    get:
      x-scope: protected
      x-websocket: true
      tags:
       - WebSocket
      summary: WebSocket stream for system status + events.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      description: >-
        WebSocket endpoint using the RCH-WS v1 envelope. See docs/ui-design.md.
      x-ws-protocol: rch-ws-v1
      x-ws-server-messages:
        - $ref: '#/components/schemas/WsAuthOkMessage'
        - $ref: '#/components/schemas/WsSystemStatusMessage'
        - $ref: '#/components/schemas/WsSystemEventMessage'
        - $ref: '#/components/schemas/WsPingMessage'
        - $ref: '#/components/schemas/WsErrorMessage'
      x-ws-client-messages:
        - $ref: '#/components/schemas/WsAuthMessage'
        - $ref: '#/components/schemas/WsPongMessage'
        - $ref: '#/components/schemas/WsSystemSubscribeMessage'
      responses:
        '101':
          description: Switching Protocols (WebSocket upgrade).
  /Telemetry:
    get:
      x-scope: public
      x-lxmf-command: TelemetryRequest
      tags:
       - Telemetry
      summary: Retrieve telemetry snapshots since a timestamp.
      parameters:
        - $ref: '#/components/parameters/telemetrySince'
        - $ref: '#/components/parameters/topicId'
      responses:
        '200':
          description: Telemetry stream entries.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TelemetryResponse'
  /api/markers:
    get:
      x-scope: protected
      tags:
       - Marker
      summary: List stored operator markers.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Stored marker records.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Marker'
    post:
      x-scope: protected
      tags:
       - Marker
      summary: Create a new operator marker.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarkerCreateRequest'
      responses:
        '201':
          description: Marker creation response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MarkerCreateResponse'
  /api/markers/symbols:
    get:
      x-scope: protected
      tags:
       - Marker
      summary: List available marker symbols.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Marker symbol definitions.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MarkerSymbol'
  /api/markers/{object_destination_hash}/position:
    patch:
      x-scope: protected
      tags:
       - Marker
      summary: Update marker coordinates.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - name: object_destination_hash
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MarkerPositionUpdate'
      responses:
        '200':
          description: Marker update acknowledgment.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  updated_at:
                    type: string
                    format: date-time
                required:
                  - status
                  - updated_at
  /api/zones:
    get:
      x-scope: protected
      tags:
       - Zone
      summary: List stored operational zones.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Stored zone records.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Zone'
    post:
      x-scope: protected
      tags:
       - Zone
      summary: Create a new operational zone.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ZoneCreateRequest'
      responses:
        '201':
          description: Zone creation response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ZoneCreateResponse'
  /api/zones/{zone_id}:
    patch:
      x-scope: protected
      tags:
       - Zone
      summary: Update zone metadata and/or polygon points.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - name: zone_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ZoneUpdateRequest'
      responses:
        '200':
          description: Zone update acknowledgement.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  updated_at:
                    type: string
                    format: date-time
                required:
                  - status
                  - updated_at
    delete:
      x-scope: protected
      tags:
       - Zone
      summary: Delete an operational zone.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - name: zone_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Zone delete acknowledgement.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  deleted_at:
                    type: string
                    format: date-time
                required:
                  - status
                  - deleted_at
  /telemetry/stream:
    get:
      x-scope: public
      x-websocket: true
      tags:
       - WebSocket
      summary: WebSocket stream for live telemetry.
      description: >-
        WebSocket endpoint using the RCH-WS v1 envelope. See docs/ui-design.md.
      x-ws-protocol: rch-ws-v1
      x-ws-server-messages:
        - $ref: '#/components/schemas/WsAuthOkMessage'
        - $ref: '#/components/schemas/WsTelemetrySnapshotMessage'
        - $ref: '#/components/schemas/WsTelemetryUpdateMessage'
        - $ref: '#/components/schemas/WsPingMessage'
        - $ref: '#/components/schemas/WsErrorMessage'
      x-ws-client-messages:
        - $ref: '#/components/schemas/WsAuthMessage'
        - $ref: '#/components/schemas/WsTelemetrySubscribeMessage'
        - $ref: '#/components/schemas/WsPongMessage'
      responses:
        '101':
          description: Switching Protocols (WebSocket upgrade).
  /messages/stream:
    get:
      x-scope: protected
      x-websocket: true
      tags:
       - WebSocket
      summary: WebSocket stream for inbound/outbound messages.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      description: >-
        WebSocket endpoint using the RCH-WS v1 envelope. See docs/ui-design.md.
      x-ws-protocol: rch-ws-v1
      x-ws-server-messages:
        - $ref: '#/components/schemas/WsAuthOkMessage'
        - $ref: '#/components/schemas/WsMessageReceiveMessage'
        - $ref: '#/components/schemas/WsMessageSubscribedMessage'
        - $ref: '#/components/schemas/WsMessageSentMessage'
        - $ref: '#/components/schemas/WsPingMessage'
        - $ref: '#/components/schemas/WsErrorMessage'
      x-ws-client-messages:
        - $ref: '#/components/schemas/WsAuthMessage'
        - $ref: '#/components/schemas/WsMessageSubscribeMessage'
        - $ref: '#/components/schemas/WsMessageSendMessage'
        - $ref: '#/components/schemas/WsPongMessage'
      responses:
        '101':
          description: Switching Protocols (WebSocket upgrade).
  /Config:
    get:
      x-scope: protected
      x-lxmf-command: GetConfig
      tags:
       - Config
      summary: Return the raw config.ini content.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Config content.
          content:
            text/plain:
              schema:
                type: string
    put:
      x-scope: protected
      x-lxmf-command: ApplyConfig
      tags:
       - Config
      summary: Apply a new config.ini payload.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigPayload'
      responses:
        '200':
          description: Apply result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigApplyResult'
  /Config/Validate:
    post:
      x-scope: protected
      x-lxmf-command: ValidateConfig
      tags:
       - Config
      summary: Validate a config.ini payload without applying.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigPayload'
      responses:
        '200':
          description: Validation result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigValidation'
  /Config/Rollback:
    post:
      x-scope: protected
      x-lxmf-command: RollbackConfig
      tags:
       - Config
      summary: Roll back config.ini using a backup.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigRollback'
      responses:
        '200':
          description: Rollback result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigRollbackResult'
  /Reticulum/Config:
    get:
      x-scope: protected
      tags:
       - Reticulum
      summary: Return the raw Reticulum config content.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Reticulum config content.
          content:
            text/plain:
              schema:
                type: string
    put:
      x-scope: protected
      tags:
       - Reticulum
      summary: Apply a new Reticulum config payload.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigPayload'
      responses:
        '200':
          description: Apply result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigApplyResult'
  /Reticulum/Config/Validate:
    post:
      x-scope: protected
      tags:
       - Reticulum
      summary: Validate a Reticulum config payload without applying.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigPayload'
      responses:
        '200':
          description: Validation result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigValidation'
  /Reticulum/Config/Rollback:
    post:
      x-scope: protected
      tags:
       - Reticulum
      summary: Roll back Reticulum config using a backup.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/ConfigRollback'
      responses:
        '200':
          description: Rollback result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigRollbackResult'
  /Reticulum/Interfaces/Capabilities:
    get:
      x-scope: protected
      tags:
       - Reticulum
      summary: Return Reticulum runtime interface capabilities.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Interface capabilities and runtime support summary.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReticulumInterfaceCapabilities'
  /Reticulum/Discovery:
    get:
      x-scope: protected
      tags:
       - Reticulum
      summary: Return a live snapshot of Reticulum interface discovery state.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Discovery snapshot payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReticulumDiscoveryState'
  /Command/FlushTelemetry:
    post:
      x-scope: protected
      x-lxmf-command: FlushTelemetry
      tags:
       - Command
      summary: Delete stored telemetry snapshots.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Deletion result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlushTelemetryResult'
  /Command/ReloadConfig:
    post:
      x-scope: protected
      x-lxmf-command: ReloadConfig
      tags:
       - Command
      summary: Reload config.ini from disk.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Reloaded configuration snapshot.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReticulumInfo'
  /Message:
    post:
      x-scope: protected
      tags:
       - Message
      summary: Send a message into the hub.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MessageRequest'
      responses:
        '200':
          description: Message dispatch acknowledgement.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageSendResult'
  /Command/DumpRouting:
    get:
      x-scope: protected
      x-lxmf-command: DumpRouting
      tags:
       - Command
      summary: Return connected destination hashes.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Routing summary.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoutingSummary'
  /Identities:
    get:
      x-scope: protected
      x-lxmf-command: ListIdentities
      tags:
       - Identity
      summary: List identity moderation status entries.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          description: Identity statuses.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/IdentityStatus'
  /Client/{id}/Ban:
    post:
      x-scope: protected
      x-lxmf-command: BanIdentity
      tags:
       - Identity
      summary: Ban an identity.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/identityPath'
      responses:
        '200':
          description: Updated identity status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentityStatus'
  /Client/{id}/Unban:
    post:
      x-scope: protected
      x-lxmf-command: UnbanIdentity
      tags:
       - Identity
      summary: Remove ban/blackhole for an identity.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/identityPath'
      responses:
        '200':
          description: Updated identity status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentityStatus'
  /Client/{id}/Blackhole:
    post:
      x-scope: protected
      x-lxmf-command: BlackholeIdentity
      tags:
       - Identity
      summary: Blackhole an identity.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/identityPath'
      responses:
        '200':
          description: Updated identity status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentityStatus'
  /RCH:
    post:
      x-scope: public
      x-lxmf-command: join
      tags:
       - RCH
      description: >-
        Join an RCH instance as the supplied identity.
      operationId: RCHjoin
      parameters:
        - $ref: '#/components/parameters/identity'
      responses:
        '200':
          description: True when the identity is recorded or updated.
          content:
            application/json:
              schema:
                type: boolean
    put:
      x-scope: public
      x-lxmf-command: leave
      tags:
       - RCH
      description: >-
        Leave an RCH instance as the supplied identity.
      operationId: RCHLeave
      parameters:
        - $ref: '#/components/parameters/identity'
      responses:
        '200':
          description: True when the identity existed and was removed.
          content:
            application/json:
              schema:
                type: boolean
  /Topic/{id}:
    get:
      x-scope: public
      x-lxmf-command: RetrieveTopic
      tags:
       - Topic
      description: >-
      summary: retrieve an existing Topic record based on the provided ID.
      operationId: RetrieveTopic
      parameters:
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: Topic record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
  /Client:
    get:
      x-scope: protected
      x-lxmf-command: ListClients
      tags:
       - Client
      description: >-
        Lists all clients currently connected to the Hub, including their Reticulum identities and connection metadata
      operationId: ListClients
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          $ref: '#/components/responses/200Client_get'
  /api/v1/app/info:
    get:
      x-scope: public
      x-lxmf-command: getAppInfo
      tags:
       - Reticulum
      description: >-
        returns the configured application metadata and component versions
      operationId: getAppInfo
      responses:
        '200':
          description: Application info including Reticulum and LXMF versions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReticulumInfo'
  /RTH:
    post:
      x-scope: public
      x-compat-alias-for: /RCH
      tags:
       - RCH
      description: Legacy compatibility alias for join.
      operationId: RTHjoin
      parameters:
        - $ref: '#/components/parameters/identity'
      responses:
        '200':
          description: True when the identity is recorded or updated.
          content:
            application/json:
              schema:
                type: boolean
    put:
      x-scope: public
      x-compat-alias-for: /RCH
      tags:
       - RCH
      description: Legacy compatibility alias for leave.
      operationId: RTHLeave
      parameters:
        - $ref: '#/components/parameters/identity'
      responses:
        '200':
          description: True when the identity existed and was removed.
          content:
            application/json:
              schema:
                type: boolean
  /checklists/templates:
    get:
      x-scope: protected
      tags:
       - Checklist
      summary: List checklist templates.
      parameters:
        - name: search
          in: query
          required: false
          schema:
            type: string
        - name: sort_by
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Checklist template list.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistTemplateListResponse'
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Create checklist template.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTemplateCreateRequest'
      responses:
        '200':
          description: Created checklist template.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistTemplate'
  /checklists/templates/{template_id}:
    patch:
      x-scope: protected
      tags:
       - Checklist
      summary: Update checklist template.
      parameters:
        - name: template_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Updated checklist template.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistTemplate'
    delete:
      x-scope: protected
      tags:
       - Checklist
      summary: Delete checklist template.
      parameters:
        - name: template_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Deleted checklist template.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistTemplate'
  /checklists/templates/{template_id}/clone:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Clone checklist template.
      parameters:
        - name: template_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTemplateCloneRequest'
      responses:
        '200':
          description: Cloned checklist template.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistTemplate'
  /checklists:
    get:
      x-scope: protected
      tags:
       - Checklist
      summary: List active checklists.
      parameters:
        - name: search
          in: query
          required: false
          schema:
            type: string
        - name: sort_by
          in: query
          required: false
          schema:
            type: string
        - name: state
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Checklist list.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistListResponse'
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Create online checklist.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistCreateOnlineRequest'
      responses:
        '200':
          description: Created checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/offline:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Create offline checklist.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistCreateOfflineRequest'
      responses:
        '200':
          description: Created checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/import/csv:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Import checklist from CSV.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistImportCsvRequest'
      responses:
        '200':
          description: Imported checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}:
    get:
      x-scope: protected
      tags:
       - Checklist
      summary: Get checklist details.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Checklist details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
    patch:
      x-scope: protected
      tags:
       - Checklist
      summary: Update checklist metadata and mission link.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistUpdateRequest'
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
    delete:
      x-scope: protected
      tags:
       - Checklist
      summary: Delete checklist instance.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Deleted checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/join:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Join checklist updates.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistSourceIdentityRequest'
      responses:
        '200':
          description: Checklist details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/upload:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Upload checklist and mark synced.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistSourceIdentityRequest'
      responses:
        '200':
          description: Uploaded checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/feeds/{feed_id}:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Publish checklist to mission feed.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
        - name: feed_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistSourceIdentityRequest'
      responses:
        '200':
          description: Feed publication record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklistFeedPublication'
  /checklists/{checklist_id}/tasks:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Add checklist task row.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTaskAddRequest'
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/tasks/{task_id}:
    delete:
      x-scope: protected
      tags:
       - Checklist
      summary: Delete checklist task row.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
        - name: task_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/tasks/{task_id}/status:
    post:
      x-scope: protected
      tags:
       - Checklist
      summary: Set checklist task status.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
        - name: task_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTaskStatusRequest'
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/tasks/{task_id}/row-style:
    patch:
      x-scope: protected
      tags:
       - Checklist
      summary: Set checklist task row style.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
        - name: task_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTaskRowStyleRequest'
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /checklists/{checklist_id}/tasks/{task_id}/cells/{column_id}:
    patch:
      x-scope: protected
      tags:
       - Checklist
      summary: Set checklist task cell value.
      parameters:
        - name: checklist_id
          in: path
          required: true
          schema:
            type: string
        - name: task_id
          in: path
          required: true
          schema:
            type: string
        - name: column_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktChecklistTaskCellRequest'
      responses:
        '200':
          description: Updated checklist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktChecklist'
  /api/r3akt/missions:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List missions.
      parameters:
        - name: expand
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Mission list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktMission'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update mission.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionUpsertRequest'
      responses:
        '200':
          description: Mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
  /api/r3akt/missions/{mission_uid}:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: Retrieve mission by identifier.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
        - name: expand
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
    patch:
      x-scope: protected
      tags:
       - R3AKT
      summary: Patch mission fields.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionPatchRequest'
      responses:
        '200':
          description: Updated mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Soft-delete mission.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Deleted mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
  /api/r3akt/missions/{mission_uid}/parent:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Set or clear mission parent.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionParentRequest'
      responses:
        '200':
          description: Mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
  /api/r3akt/missions/{mission_uid}/zones:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List mission zone identifiers.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Mission zone identifier list.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionZonesResponse'
  /api/r3akt/missions/{mission_uid}/zones/{zone_id}:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Link mission to zone.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
        - name: zone_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Unlink mission from zone.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
        - name: zone_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Mission record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMission'
  /api/r3akt/missions/{mission_uid}/rde:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: Retrieve mission role descriptor.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Mission RDE record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionRde'
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update mission role descriptor.
      parameters:
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionRdeRequest'
      responses:
        '200':
          description: Mission RDE record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionRde'
  /api/r3akt/mission-changes:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List mission changes.
      parameters:
        - name: mission_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Mission change list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktMissionChange'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update mission change.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionChangeUpsertRequest'
      responses:
        '200':
          description: Mission change record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionChange'
  /api/r3akt/log-entries:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List mission log entries.
      parameters:
        - name: mission_uid
          in: query
          required: false
          schema:
            type: string
        - name: marker_ref
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Mission log entry list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktLogEntry'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update mission log entry.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktLogEntryUpsertRequest'
      responses:
        '200':
          description: Mission log entry record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktLogEntry'
  /api/r3akt/teams:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List teams.
      parameters:
        - name: mission_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Team list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktTeam'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update team.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktTeamUpsertRequest'
      responses:
        '200':
          description: Team record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeam'
  /api/r3akt/teams/{team_uid}/missions:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List mission assignments for a team.
      parameters:
        - name: team_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team mission links.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionUidsResponse'
  /api/r3akt/teams/{team_uid}/missions/{mission_uid}:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Link a team to a mission.
      parameters:
        - name: team_uid
          in: path
          required: true
          schema:
            type: string
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeam'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Unlink a team from a mission.
      parameters:
        - name: team_uid
          in: path
          required: true
          schema:
            type: string
        - name: mission_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeam'
  /api/r3akt/team-members:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List team members.
      parameters:
        - name: team_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Team member list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktTeamMember'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update team member.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktTeamMemberUpsertRequest'
      responses:
        '200':
          description: Team member record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeamMember'
  /api/r3akt/team-members/{team_member_uid}/clients:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List linked client identities for a team member.
      parameters:
        - name: team_member_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team member client links.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktClientIdentitiesResponse'
  /api/r3akt/team-members/{team_member_uid}/clients/{client_identity}:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Link a team member to a client identity.
      parameters:
        - name: team_member_uid
          in: path
          required: true
          schema:
            type: string
        - name: client_identity
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team member record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeamMember'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Unlink a team member from a client identity.
      parameters:
        - name: team_member_uid
          in: path
          required: true
          schema:
            type: string
        - name: client_identity
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Team member record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeamMember'
  /api/r3akt/assets:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List assets.
      parameters:
        - name: team_member_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Asset list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktAsset'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update asset.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktAssetUpsertRequest'
      responses:
        '200':
          description: Asset record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktAsset'
  /api/r3akt/skills:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List skills.
      responses:
        '200':
          description: Skill list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktSkill'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update skill.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktSkillUpsertRequest'
      responses:
        '200':
          description: Skill record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktSkill'
  /api/r3akt/team-member-skills:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List team member skills.
      parameters:
        - name: team_member_rns_identity
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Team member skill list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktTeamMemberSkill'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update team member skill.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktTeamMemberSkillUpsertRequest'
      responses:
        '200':
          description: Team member skill record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTeamMemberSkill'
  /api/r3akt/task-skill-requirements:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List task skill requirements.
      parameters:
        - name: task_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Task skill requirement list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktTaskSkillRequirement'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update task skill requirement.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktTaskSkillRequirementUpsertRequest'
      responses:
        '200':
          description: Task skill requirement record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktTaskSkillRequirement'
  /api/r3akt/assignments:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List mission task assignments.
      parameters:
        - name: mission_uid
          in: query
          required: false
          schema:
            type: string
        - name: task_uid
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Assignment list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktMissionTaskAssignment'
    post:
      x-scope: protected
      tags:
       - R3AKT
      summary: Create or update assignment.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktMissionTaskAssignmentUpsertRequest'
      responses:
        '200':
          description: Assignment record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionTaskAssignment'
  /api/r3akt/assignments/{assignment_uid}/assets:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Replace assignment asset links.
      parameters:
        - name: assignment_uid
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktAssignmentAssetSetRequest'
      responses:
        '200':
          description: Assignment record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionTaskAssignment'
  /api/r3akt/assignments/{assignment_uid}/assets/{asset_uid}:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Link assignment to asset.
      parameters:
        - name: assignment_uid
          in: path
          required: true
          schema:
            type: string
        - name: asset_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Assignment record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionTaskAssignment'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Unlink assignment from asset.
      parameters:
        - name: assignment_uid
          in: path
          required: true
          schema:
            type: string
        - name: asset_uid
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Assignment record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktMissionTaskAssignment'
  /api/r3akt/events:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List domain events.
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: Domain event list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktDomainEvent'
  /api/r3akt/snapshots:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List domain snapshots.
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: Domain snapshot list.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/R3aktDomainSnapshot'
  /api/r3akt/capabilities/{identity}:
    get:
      x-scope: protected
      tags:
       - R3AKT
      summary: List capability grants for an identity.
      parameters:
        - name: identity
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Capability grants.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktCapabilityState'
  /api/r3akt/capabilities/{identity}/{capability}:
    put:
      x-scope: protected
      tags:
       - R3AKT
      summary: Grant capability to identity.
      parameters:
        - name: identity
          in: path
          required: true
          schema:
            type: string
        - name: capability
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktCapabilityGrantRequest'
      responses:
        '200':
          description: Capability grant record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktCapabilityGrant'
    delete:
      x-scope: protected
      tags:
       - R3AKT
      summary: Revoke capability from identity.
      parameters:
        - name: identity
          in: path
          required: true
          schema:
            type: string
        - name: capability
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/R3aktCapabilityGrantRequest'
      responses:
        '200':
          description: Revocation result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/R3aktCapabilityGrant'
  /File:
    get:
      x-scope: public
      x-lxmf-command: ListFiles
      tags:
       - File
      summary: List stored file attachments.
      operationId: ListFiles
      responses:
        '200':
          description: Stored file metadata (includes TopicID when tagged via the upload command or AssociateTopicID).
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FileAttachment'
  /File/{id}:
    get:
      x-scope: public
      x-lxmf-command: RetrieveFile
      tags:
       - File
      summary: Retrieve a stored file by its ID.
      operationId: RetrieveFile
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Stored file metadata (binary delivered via LXMF fields for LXMF clients).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileAttachment'
    delete:
      x-scope: protected
      tags:
       - File
      summary: Delete a stored file by its ID.
      operationId: DeleteFile
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Deleted file metadata.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileAttachment'
        '404':
          $ref: '#/components/responses/404'
  /File/{id}/raw:
    get:
      x-scope: public
      x-lxmf-command: RetrieveFile
      tags:
       - File
      summary: Download a stored file by its ID (raw bytes).
      operationId: RetrieveFileRaw
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Raw file bytes.
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
  /Image:
    get:
      x-scope: public
      x-lxmf-command: ListImages
      tags:
       - Image
      summary: List stored images.
      operationId: ListImages
      responses:
        '200':
          description: Stored image metadata (includes TopicID when tagged via the upload command or AssociateTopicID).
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FileAttachment'
  /Image/{id}:
    get:
      x-scope: public
      x-lxmf-command: RetrieveImage
      tags:
       - Image
      summary: Retrieve a stored image by its ID.
      operationId: RetrieveImage
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Stored image metadata (binary delivered via LXMF fields for LXMF clients).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileAttachment'
    delete:
      x-scope: protected
      tags:
       - Image
      summary: Delete a stored image by its ID.
      operationId: DeleteImage
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Deleted image metadata.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileAttachment'
        '404':
          $ref: '#/components/responses/404'
  /Image/{id}/raw:
    get:
      x-scope: public
      x-lxmf-command: RetrieveImage
      tags:
       - Image
      summary: Download a stored image by its ID (raw bytes).
      operationId: RetrieveImageRaw
      parameters:
        - $ref: '#/components/parameters/fileId'
      responses:
        '200':
          description: Raw image bytes.
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
  /Topic:
    post:
      x-scope: protected
      x-lxmf-command: CreateTopic
      tags:
       - Topic
      description: >-
      summary: Creates a new Topic record.
      operationId: CreateTopic
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Topic'
      responses:
        '200':
          $ref: '#/components/responses/200Topic_post'
    delete:
      x-scope: protected
      x-lxmf-command: DeleteTopic
      tags:
       - Topic
      description: >-
      summary: Deletes an existing Topic record based on the provided ID.
      operationId: DeleteTopic
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/ID'
      responses:
        '200':
          $ref: '#/components/responses/200Topic_delete'
    get:
      x-scope: public
      x-lxmf-command: ListTopic
      tags:
       - Topic
      description: >-
      summary: Retrieves a list of all Topic
      operationId: ListTopic
      responses:
        '200':
          $ref: '#/components/responses/200Topic_get'
    patch:
      x-scope: protected
      x-lxmf-command: PatchTopic
      tags:
       - Topic
      description: >-
      summary: Updates an existing Topic record.
      operationId: PatchTopic
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Topic'
      responses:
        '200':
          $ref: '#/components/responses/200Topic_patch'
  /Topic/Subscribe:
    post:
      x-scope: public
      x-lxmf-command: SubscribeTopic
      tags:
       - Topic
      description: >-
        Subscribe a destination to a topic (Destination defaults to the authenticated identity when omitted).
      operationId: SubscribeTopic
      requestBody:
        $ref: '#/components/requestBodies/SubscribeTopicRequest'
      responses:
        '200':
          description: Subscriber record for the subscription.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscriber'
  /Topic/Associate:
    post:
      x-scope: protected
      x-lxmf-command: AssociateTopicID
      tags:
       - Topic
      summary: Associate an attachment upload with a TopicID.
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Topic'
      responses:
        '200':
          description: Association acknowledged.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Topic'
  /Subscriber/{id}:
    get:
      x-scope: protected
      x-lxmf-command: RetrieveSubscriber
      tags:
       - Subscriber
      description: >-
      summary: retrieve an existing Subscriber record based on the provided ID.
      operationId: RetrieveSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/id'
      responses:
        '200':
          description: Subscriber record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscriber'
  /Subscriber/Add:
    post:
      x-scope: protected
      x-lxmf-command: AddSubscriber
      tags:
       - Subscriber
      description: >-
      summary: Add a destination/topic subscriber mapping (admin).
      operationId: AddSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Subscriber'
      responses:
        '200':
          description: Subscriber record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscriber'
  /Subscriber:
    post:
      x-scope: protected
      x-lxmf-command: CreateSubscriber
      tags:
       - Subscriber
      description: >-
      summary: Creates a new Subscriber record.
      operationId: CreateSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Subscriber'
      responses:
        '200':
          $ref: '#/components/responses/200Subscriber_post'
    delete:
      x-scope: protected
      x-lxmf-command: DeleteSubscriber
      tags:
       - Subscriber
      description: >-
      summary: Deletes an existing Subscriber record based on the provided ID.
      operationId: DeleteSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/ID'
      responses:
        '200':
          $ref: '#/components/responses/200Subscriber_delete'
    get:
      x-scope: protected
      x-lxmf-command: ListSubscriber
      tags:
       - Subscriber
      description: >-
      summary: Retrieves a list of all Subscriber
      operationId: ListSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      responses:
        '200':
          $ref: '#/components/responses/200Subscriber_get'
    patch:
      x-scope: protected
      x-lxmf-command: PatchSubscriber
      tags:
       - Subscriber
      description: >-
      summary: Updates an existing Subscriber record.
      operationId: PatchSubscriber
      security:
        - bearerAuth: []
        - apiKeyAuth: []
      requestBody:
        $ref: '#/components/requestBodies/Subscriber'
      responses:
        '200':
          $ref: '#/components/responses/200Subscriber_patch'

components:
  schemas:
    Subscriber:
      type: object
      description: Subscription details linking destinations to topics.
      properties:
        SubscriberID:
          type: string
          nullable: true
          description: Unique identifier for the subscriber mapping.
        Destination:
          type: string
          description: Destination hash (hex string).
        TopicID:
          type: string
          nullable: true
          description: Topic identifier for the subscription.
        RejectTests:
          type: integer
          nullable: true
          description: Optional reject-tests flag (0/1) or numeric mode.
        Metadata:
          type: object
          nullable: true
          additionalProperties: true
          description: Optional subscriber metadata.
      required:
        - Destination
    Topic:
      type: object
      description: Topic subscription metadata.
      properties:
        TopicID:
          type: string
          nullable: true
          description: Unique topic identifier.
        TopicName:
          type: string
          description: Human friendly topic name.
        TopicPath:
          type: string
          description: Stable topic path (used by clients for routing).
        TopicDescription:
          type: string
          description: Optional topic description.
      required:
        - TopicName
        - TopicPath
      FileAttachment:
        type: object
        description: Metadata for a stored file or image attachment.
        properties:
        FileID:
          type: integer
          description: Numeric identifier assigned by the hub.
        Name:
          type: string
          description: Attachment display name.
        Path:
          type: string
          description: Filesystem path where the attachment is stored.
        Category:
          type: string
          description: Attachment category ("file" or "image").
        MediaType:
          type: string
          nullable: true
          description: MIME type when provided.
        TopicID:
          type: string
          nullable: true
          description: Optional topic identifier associated with the attachment.
        Size:
          type: integer
          description: Attachment size in bytes.
        CreatedAt:
          type: string
          format: date-time
          description: When the attachment metadata was created.
          UpdatedAt:
            type: string
            format: date-time
            description: When the attachment metadata was last updated.
      MarkerSymbol:
        type: object
        description: Marker symbol identifier and icon set.
        properties:
          id:
            type: string
            description: Marker symbol identifier.
          set:
            type: string
            description: Marker symbol set.
            enum:
              - napsg
              - mdi
        required:
          - id
          - set
      Marker:
        type: object
        description: Operator-managed marker record.
        properties:
          object_destination_hash:
            type: string
            description: Destination hash for the marker object identity.
          origin_rch:
            type: string
            nullable: true
            description: Destination hash for the originating hub identity.
          type:
            type: string
            description: Marker type identifier (matches available icon keys).
          symbol:
            type: string
            description: Marker symbol identifier (icon key).
          name:
            type: string
            description: Marker display name.
          category:
            type: string
            description: Marker category (such as the symbol set).
          notes:
            type: string
            nullable: true
            description: Optional operator notes.
          position:
            type: object
            properties:
              lat:
                type: number
                format: float
              lon:
                type: number
                format: float
            required:
              - lat
              - lon
          time:
            type: string
            format: date-time
            nullable: true
            description: Marker observation time.
          stale_at:
            type: string
            format: date-time
            nullable: true
            description: Marker expiration time.
          created_at:
            type: string
            format: date-time
          updated_at:
            type: string
            format: date-time
        required:
          - object_destination_hash
          - type
          - symbol
          - name
          - category
          - position
          - created_at
          - updated_at
      MarkerCreateRequest:
        type: object
        description: Marker creation payload.
        properties:
          type:
            type: string
            description: Marker type identifier (matches available icon keys).
          symbol:
            type: string
            description: Marker symbol identifier (icon key).
          name:
            type: string
            description: Optional marker name.
          category:
            type: string
            description: Marker category (such as the symbol set).
          lat:
            type: number
            format: float
          lon:
            type: number
            format: float
          notes:
            type: string
            nullable: true
          ttl_seconds:
            type: integer
            nullable: true
            description: Optional TTL override in seconds.
        required:
          - type
          - symbol
          - lat
          - lon
      MarkerCreateResponse:
        type: object
        description: Marker creation response.
        properties:
          object_destination_hash:
            type: string
          created_at:
            type: string
            format: date-time
        required:
          - object_destination_hash
          - created_at
      MarkerPositionUpdate:
        type: object
        description: Marker position update payload.
        properties:
          lat:
            type: number
            format: float
          lon:
            type: number
            format: float
        required:
          - lat
          - lon
      ZonePoint:
        type: object
        description: A polygon coordinate pair.
        properties:
          lat:
            type: number
            format: float
          lon:
            type: number
            format: float
        required:
          - lat
          - lon
      Zone:
        type: object
        description: Operator-defined operational zone.
        properties:
          zone_id:
            type: string
            description: Unique zone identifier.
          name:
            type: string
            description: Zone display name.
          points:
            type: array
            description: Ordered polygon points.
            items:
              $ref: '#/components/schemas/ZonePoint'
          created_at:
            type: string
            format: date-time
          updated_at:
            type: string
            format: date-time
        required:
          - zone_id
          - name
          - points
          - created_at
          - updated_at
      ZoneCreateRequest:
        type: object
        description: Zone creation payload.
        properties:
          name:
            type: string
            maxLength: 96
          points:
            type: array
            minItems: 3
            maxItems: 200
            items:
              $ref: '#/components/schemas/ZonePoint'
        required:
          - name
          - points
      ZoneUpdateRequest:
        type: object
        description: Zone update payload.
        properties:
          name:
            type: string
            maxLength: 96
          points:
            type: array
            minItems: 3
            maxItems: 200
            items:
              $ref: '#/components/schemas/ZonePoint'
      ZoneCreateResponse:
        type: object
        description: Zone creation response.
        properties:
          zone_id:
            type: string
          created_at:
            type: string
            format: date-time
        required:
          - zone_id
          - created_at
      Client:
        type: object
        description: Connected client state and metadata.
        properties:
          identity:
            type: string
          description: Client identity hash (hex string).
        display_name:
          type: string
          nullable: true
          description: Optional display name derived from announce metadata.
        last_seen:
          type: string
          format: date-time
          description: Last seen timestamp (UTC RFC3339).
        metadata:
          type: object
          additionalProperties: true
          description: Optional client metadata.
      required:
        - identity
        - last_seen
    Error:
      type: object
      description: Error response payload.
      properties:
        detail:
          type: string
          description: Human-readable error message.
        errors:
          type: array
          items:
            type: string
          description: Optional list of validation errors.
      additionalProperties: true
    ReticulumInfo:
      type: object
      description: Summarizes the  Reticulum node and application configuration.
      properties:
        is_transport_enabled:
          type: boolean
          description: Indicates whether Reticulum transport mode is enabled.
        is_connected_to_shared_instance:
          type: boolean
          description: True when the node is linked to a shared Reticulum instance.
        reticulum_config_path:
          type: string
          description: Filesystem path to the Reticulum configuration.
        database_path:
          type: string
          description: Filesystem path to the Reticulum database.
        storage_path:
          type: string
          description: Root path where Reticulum stores persistent data.
        file_storage_path:
          type: string
          description: Folder where file attachments are stored (defaults to ``<storage_dir>/files``).
        image_storage_path:
          type: string
          description: Folder where image artifacts are stored (defaults to ``<storage_dir>/images``).
        reticulum_destination:
          type: string
          description: Hex-encoded Reticulum destination hash for the running hub.
        app_name:
          type: string
          description: Application display name configured in ``config.ini``.
        rns_version:
          type: string
          description: Installed Reticulum (RNS) version string.
        lxmf_version:
          type: string
          description: Installed LXMF library version.
        app_version:
          type: string
          description: Version of the Reticulum Community Hub application.
        app_description:
          type: string
          description: Human readable description for the Community Hub.
        name:
          type: string
          description: Alias for ``app_name`` used by the Web UI.
        version:
          type: string
          description: Alias for ``app_version`` used by the Web UI.
        description:
          type: string
          description: Alias for ``app_description`` used by the Web UI.
        storage_paths:
          type: object
          additionalProperties:
            type: string
          description: Grouped storage and config paths for UI display.
    Status:
      type: object
      description: Dashboard status snapshot.
      properties:
        uptime_seconds:
          type: integer
        clients:
          type: integer
        topics:
          type: integer
        subscribers:
          type: integer
        files:
          type: integer
        images:
          type: integer
        telemetry:
          $ref: '#/components/schemas/TelemetryStats'
    TelemetryStats:
      type: object
      description: Telemetry ingestion counters.
      properties:
        ingest_count:
          type: integer
        last_ingest_at:
          type: string
          nullable: true
    Event:
      type: object
      description: Recent event entry.
      properties:
        timestamp:
          type: string
        type:
          type: string
        message:
          type: string
        metadata:
          type: object
    MessageEntry:
      type: object
      description: Inbound LXMF message entry.
      properties:
        timestamp:
          type: string
        source:
          type: string
        source_hash:
          type: string
        topic_id:
          type: string
          nullable: true
        content:
          type: string
    MessageRequest:
      type: object
      description: Message payload for dispatching to the hub.
      required:
        - Content
      properties:
        Content:
          type: string
        TopicID:
          type: string
          nullable: true
        Destination:
          type: string
          nullable: true
    MessageSendResult:
      type: object
      description: Message dispatch acknowledgement.
      properties:
        sent:
          type: boolean
    TelemetryResponse:
      type: object
      description: Telemetry stream response payload.
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/TelemetryEntry'
    TelemetryEntry:
      type: object
      properties:
        peer_destination:
          type: string
        timestamp:
          type: integer
        telemetry:
          type: object
        display_name:
          type: string
          nullable: true
          description: Optional display name resolved for the peer identity.
        identity_label:
          type: string
          nullable: true
          description: Backward-compatible label for the peer identity.
    IdentityStatus:
      type: object
      description: Identity moderation status.
      properties:
        Identity:
          type: string
        DisplayName:
          type: string
          nullable: true
          description: Optional display name resolved from announces.
        Status:
          type: string
        LastSeen:
          type: string
          nullable: true
        Metadata:
          type: object
        IsBanned:
          type: boolean
        IsBlackholed:
          type: boolean
    ConfigValidation:
      type: object
      properties:
        valid:
          type: boolean
        errors:
          type: array
          items:
            type: string
    ConfigApplyResult:
      type: object
      properties:
        applied:
          type: boolean
        config_path:
          type: string
        backup_path:
          type: string
          nullable: true
    ConfigRollbackResult:
      type: object
      properties:
        rolled_back:
          type: boolean
        backup_path:
          type: string
          nullable: true
        error:
          type: string
          nullable: true
    ReticulumInterfaceCapabilities:
      type: object
      description: Runtime support matrix for Reticulum interface types.
      properties:
        runtime_active:
          type: boolean
        os:
          type: string
          enum:
            - windows
            - linux
            - darwin
            - other
        identity_hash_hex_length:
          type: integer
        supported_interface_types:
          type: array
          items:
            type: string
        unsupported_interface_types:
          type: array
          items:
            type: string
        discoverable_interface_types:
          type: array
          items:
            type: string
        autoconnect_interface_types:
          type: array
          items:
            type: string
        rns_version:
          type: string
      required:
        - runtime_active
        - os
        - identity_hash_hex_length
        - supported_interface_types
        - unsupported_interface_types
        - discoverable_interface_types
        - autoconnect_interface_types
        - rns_version
    ReticulumDiscoveredInterfaceEntry:
      type: object
      description: Discovered interface announce metadata.
      properties:
        discovery_hash:
          type: string
          nullable: true
        status:
          type: string
          nullable: true
        status_code:
          oneOf:
            - type: integer
            - type: string
          nullable: true
        type:
          type: string
          nullable: true
        name:
          type: string
          nullable: true
        transport:
          type: string
          nullable: true
        transport_id:
          type: string
          nullable: true
        network_id:
          type: string
          nullable: true
        hops:
          type: integer
          nullable: true
        value:
          type: integer
          nullable: true
        received:
          type: string
          nullable: true
        last_heard:
          type: string
          nullable: true
        heard_count:
          type: integer
          nullable: true
        reachable_on:
          type: string
          nullable: true
        port:
          oneOf:
            - type: integer
            - type: string
          nullable: true
        latitude:
          type: number
          nullable: true
        longitude:
          type: number
          nullable: true
        height:
          type: number
          nullable: true
        frequency:
          type: number
          nullable: true
        bandwidth:
          type: number
          nullable: true
        sf:
          type: number
          nullable: true
        cr:
          type: number
          nullable: true
        modulation:
          type: string
          nullable: true
        channel:
          oneOf:
            - type: integer
            - type: string
          nullable: true
        config_entry:
          oneOf:
            - type: object
              additionalProperties: true
            - type: string
          nullable: true
      required:
        - discovery_hash
        - status
        - status_code
        - type
        - name
        - transport
        - transport_id
        - network_id
        - hops
        - value
        - received
        - last_heard
        - heard_count
    ReticulumDiscoveryState:
      type: object
      description: Live Reticulum discovery snapshot.
      properties:
        runtime_active:
          type: boolean
        should_autoconnect:
          type: boolean
        max_autoconnected_interfaces:
          type: integer
          nullable: true
        required_discovery_value:
          type: integer
          nullable: true
        interface_discovery_sources:
          type: array
          items:
            type: string
        discovered_interfaces:
          type: array
          items:
            $ref: '#/components/schemas/ReticulumDiscoveredInterfaceEntry'
        refreshed_at:
          type: string
          format: date-time
      required:
        - runtime_active
        - should_autoconnect
        - max_autoconnected_interfaces
        - required_discovery_value
        - interface_discovery_sources
        - discovered_interfaces
        - refreshed_at
    FlushTelemetryResult:
      type: object
      properties:
        deleted:
          type: integer
    RoutingSummary:
      type: object
      properties:
        destinations:
          type: array
          items:
            type: string
    FileAttachment:
      type: object
      properties:
        FileID:
          type: integer
        Name:
          type: string
        Path:
          type: string
        Category:
          type: string
        MediaType:
          type: string
          nullable: true
        TopicID:
          type: string
          nullable: true
        Size:
          type: integer
        CreatedAt:
          type: string
          format: date-time
          nullable: true
        UpdatedAt:
          type: string
          format: date-time
          nullable: true
      required:
        - Name
        - Path
        - Category
        - Size
    Client:
      type: object
      properties:
        identity:
          type: string
        display_name:
          type: string
          nullable: true
        last_seen:
          type: string
          format: date-time
          nullable: true
        metadata:
          type: object
          additionalProperties: true
      required:
        - identity
    MarkerSymbol:
      type: object
      properties:
        id:
          type: string
        set:
          type: string
          enum:
            - napsg
            - mdi
      required:
        - id
        - set
    Marker:
      type: object
      properties:
        object_destination_hash:
          type: string
        origin_rch:
          type: string
          nullable: true
        type:
          type: string
        symbol:
          type: string
        name:
          type: string
        category:
          type: string
        notes:
          type: string
          nullable: true
        position:
          type: object
          properties:
            lat:
              type: number
            lon:
              type: number
          required:
            - lat
            - lon
        time:
          type: string
          format: date-time
          nullable: true
        stale_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - object_destination_hash
        - type
        - symbol
        - name
        - category
        - position
    MarkerCreateRequest:
      type: object
      properties:
        type:
          type: string
        symbol:
          type: string
        name:
          type: string
        category:
          type: string
        lat:
          type: number
        lon:
          type: number
        notes:
          type: string
          nullable: true
        ttl_seconds:
          type: integer
          nullable: true
      required:
        - type
        - symbol
        - lat
        - lon
    MarkerCreateResponse:
      type: object
      properties:
        object_destination_hash:
          type: string
        created_at:
          type: string
          format: date-time
      required:
        - object_destination_hash
        - created_at
    MarkerPositionUpdate:
      type: object
      required:
        - lat
        - lon
      properties:
        lat:
          type: number
        lon:
          type: number
    ZonePoint:
      type: object
      properties:
        lat:
          type: number
        lon:
          type: number
      required:
        - lat
        - lon
    Zone:
      type: object
      properties:
        zone_id:
          type: string
        name:
          type: string
        points:
          type: array
          items:
            $ref: '#/components/schemas/ZonePoint'
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - zone_id
        - name
        - points
    ZoneCreateRequest:
      type: object
      required:
        - name
        - points
      properties:
        name:
          type: string
        points:
          type: array
          minItems: 3
          items:
            $ref: '#/components/schemas/ZonePoint'
    ZoneUpdateRequest:
      type: object
      properties:
        name:
          type: string
        points:
          type: array
          minItems: 3
          items:
            $ref: '#/components/schemas/ZonePoint'
    ZoneCreateResponse:
      type: object
      properties:
        zone_id:
          type: string
        created_at:
          type: string
          format: date-time
      required:
        - zone_id
        - created_at
    R3aktCapabilityGrantRequest:
      type: object
      properties:
        granted_by:
          type: string
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
    R3aktCapabilityGrant:
      type: object
      additionalProperties: true
      properties:
        identity:
          type: string
        capability:
          type: string
        granted_by:
          type: string
          nullable: true
        granted_at:
          type: string
          format: date-time
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
        revoked:
          type: boolean
          nullable: true
      required:
        - identity
        - capability
    R3aktCapabilityState:
      type: object
      properties:
        identity:
          type: string
        capabilities:
          type: array
          items:
            type: string
        grants:
          type: array
          items:
            $ref: '#/components/schemas/R3aktCapabilityGrant'
      required:
        - identity
        - capabilities
        - grants
    R3aktDomainEvent:
      type: object
      properties:
        event_uid:
          type: string
        domain:
          type: string
        aggregate_type:
          type: string
        aggregate_uid:
          type: string
        event_type:
          type: string
        payload:
          type: object
          additionalProperties: true
        created_at:
          type: string
          format: date-time
      required:
        - event_uid
        - domain
        - aggregate_type
        - aggregate_uid
        - event_type
        - payload
    R3aktDomainSnapshot:
      type: object
      properties:
        snapshot_uid:
          type: string
        domain:
          type: string
        aggregate_type:
          type: string
        aggregate_uid:
          type: string
        version:
          type: integer
        state:
          type: object
          additionalProperties: true
        created_at:
          type: string
          format: date-time
      required:
        - snapshot_uid
        - domain
        - aggregate_type
        - aggregate_uid
        - version
        - state
    R3aktMission:
      type: object
      properties:
        uid:
          type: string
        mission_name:
          type: string
        description:
          type: string
        topic_id:
          type: string
          nullable: true
        topic:
          type: object
          additionalProperties: true
          nullable: true
        path:
          type: string
          nullable: true
        classification:
          type: string
          nullable: true
        tool:
          type: string
          nullable: true
        keywords:
          type: array
          items:
            type: string
        parent_uid:
          type: string
          nullable: true
        children:
          type: array
          items:
            type: string
        feeds:
          type: array
          items:
            type: string
        zones:
          type: array
          items:
            type: string
        password_hash:
          type: string
          nullable: true
        default_role:
          type: string
          nullable: true
        mission_priority:
          type: integer
          nullable: true
        mission_status:
          type: string
        owner_role:
          type: string
          nullable: true
        token:
          type: string
          nullable: true
        invite_only:
          type: boolean
        expiration:
          type: string
          format: date-time
          nullable: true
        mission_rde_role:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - uid
        - mission_name
        - mission_status
        - invite_only
    R3aktMissionUpsertRequest:
      type: object
      additionalProperties: true
    R3aktMissionPatchRequest:
      type: object
      additionalProperties: true
    R3aktMissionParentRequest:
      type: object
      properties:
        parent_uid:
          type: string
          nullable: true
    R3aktMissionZonesResponse:
      type: object
      properties:
        zone_ids:
          type: array
          items:
            type: string
      required:
        - zone_ids
    R3aktMissionRde:
      type: object
      properties:
        mission_uid:
          type: string
        role:
          type: string
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - mission_uid
    R3aktMissionRdeRequest:
      type: object
      required:
        - role
      properties:
        role:
          type: string
    R3aktMissionChange:
      type: object
      properties:
        uid:
          type: string
        mission_uid:
          type: string
        timestamp:
          type: string
          format: date-time
        change_type:
          type: string
          nullable: true
        notes:
          type: string
          nullable: true
        team_member_rns_identity:
          type: string
          nullable: true
        is_federated_change:
          type: boolean
        hashes:
          type: array
          items:
            type: string
      required:
        - uid
        - mission_uid
        - timestamp
    R3aktMissionChangeUpsertRequest:
      type: object
      additionalProperties: true
    R3aktLogEntry:
      type: object
      properties:
        entry_uid:
          type: string
        mission_uid:
          type: string
        content:
          type: string
        server_time:
          type: string
          format: date-time
          nullable: true
        client_time:
          type: string
          format: date-time
          nullable: true
        content_hashes:
          type: array
          items:
            type: string
        keywords:
          type: array
          items:
            type: string
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - entry_uid
        - mission_uid
        - content
    R3aktLogEntryUpsertRequest:
      type: object
      additionalProperties: true
    R3aktTeam:
      type: object
      properties:
        uid:
          type: string
        mission_uid:
          type: string
          nullable: true
        mission_uids:
          type: array
          items:
            type: string
        color:
          type: string
          nullable: true
        team_name:
          type: string
        team_description:
          type: string
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - uid
        - team_name
        - mission_uids
    R3aktTeamUpsertRequest:
      type: object
      additionalProperties: true
    R3aktMissionUidsResponse:
      type: object
      properties:
        mission_uids:
          type: array
          items:
            type: string
      required:
        - mission_uids
    R3aktTeamMember:
      type: object
      properties:
        uid:
          type: string
        team_uid:
          type: string
          nullable: true
        rns_identity:
          type: string
        display_name:
          type: string
        icon:
          type: string
          nullable: true
        role:
          type: string
          nullable: true
        callsign:
          type: string
          nullable: true
        freq:
          type: number
          nullable: true
        email:
          type: string
          nullable: true
        phone:
          type: string
          nullable: true
        modulation:
          type: string
          nullable: true
        availability:
          type: string
          nullable: true
        certifications:
          type: array
          items:
            type: string
        last_active:
          type: string
          format: date-time
          nullable: true
        client_identities:
          type: array
          items:
            type: string
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - uid
        - rns_identity
        - display_name
        - client_identities
    R3aktTeamMemberUpsertRequest:
      type: object
      additionalProperties: true
    R3aktClientIdentitiesResponse:
      type: object
      properties:
        client_identities:
          type: array
          items:
            type: string
      required:
        - client_identities
    R3aktAsset:
      type: object
      properties:
        asset_uid:
          type: string
        team_member_uid:
          type: string
          nullable: true
        name:
          type: string
        asset_type:
          type: string
        serial_number:
          type: string
          nullable: true
        status:
          type: string
        location:
          type: string
          nullable: true
        notes:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - asset_uid
        - name
        - asset_type
        - status
    R3aktAssetUpsertRequest:
      type: object
      additionalProperties: true
    R3aktSkill:
      type: object
      properties:
        skill_uid:
          type: string
        name:
          type: string
        category:
          type: string
          nullable: true
        description:
          type: string
          nullable: true
        proficiency_scale:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
      required:
        - skill_uid
        - name
    R3aktSkillUpsertRequest:
      type: object
      additionalProperties: true
    R3aktTeamMemberSkill:
      type: object
      properties:
        uid:
          type: string
        team_member_rns_identity:
          type: string
        skill_uid:
          type: string
        level:
          type: integer
        validated_by:
          type: string
          nullable: true
        validated_at:
          type: string
          format: date-time
          nullable: true
        expires_at:
          type: string
          format: date-time
          nullable: true
      required:
        - uid
        - team_member_rns_identity
        - skill_uid
        - level
    R3aktTeamMemberSkillUpsertRequest:
      type: object
      additionalProperties: true
    R3aktTaskSkillRequirement:
      type: object
      properties:
        uid:
          type: string
        task_uid:
          type: string
        skill_uid:
          type: string
        minimum_level:
          type: integer
        is_mandatory:
          type: boolean
      required:
        - uid
        - task_uid
        - skill_uid
        - minimum_level
        - is_mandatory
    R3aktTaskSkillRequirementUpsertRequest:
      type: object
      additionalProperties: true
    R3aktMissionTaskAssignment:
      type: object
      properties:
        assignment_uid:
          type: string
        mission_uid:
          type: string
        task_uid:
          type: string
        team_member_rns_identity:
          type: string
        assigned_by:
          type: string
          nullable: true
        assigned_at:
          type: string
          format: date-time
          nullable: true
        due_dtg:
          type: string
          format: date-time
          nullable: true
        status:
          type: string
        notes:
          type: string
          nullable: true
        assets:
          type: array
          items:
            type: string
      required:
        - assignment_uid
        - mission_uid
        - task_uid
        - team_member_rns_identity
        - status
        - assets
    R3aktMissionTaskAssignmentUpsertRequest:
      type: object
      additionalProperties: true
    R3aktAssignmentAssetSetRequest:
      type: object
      required:
        - assets
      properties:
        assets:
          type: array
          items:
            type: string
    R3aktChecklistColumn:
      type: object
      properties:
        column_uid:
          type: string
        column_name:
          type: string
        display_order:
          type: integer
        column_type:
          type: string
        column_editable:
          type: boolean
        background_color:
          type: string
          nullable: true
        text_color:
          type: string
          nullable: true
        is_removable:
          type: boolean
        system_key:
          type: string
          nullable: true
      required:
        - column_uid
        - column_name
        - display_order
        - column_type
        - column_editable
        - is_removable
    R3aktChecklistCell:
      type: object
      properties:
        cell_uid:
          type: string
        task_uid:
          type: string
        column_uid:
          type: string
        value:
          type: string
          nullable: true
        updated_at:
          type: string
          format: date-time
          nullable: true
        updated_by_team_member_rns_identity:
          type: string
          nullable: true
      required:
        - cell_uid
        - task_uid
        - column_uid
    R3aktChecklistTask:
      type: object
      properties:
        task_uid:
          type: string
        number:
          type: integer
        user_status:
          type: string
        task_status:
          type: string
        is_late:
          type: boolean
        custom_status:
          type: integer
          nullable: true
        due_relative_minutes:
          type: integer
          nullable: true
        due_dtg:
          type: string
          format: date-time
          nullable: true
        notes:
          type: string
          nullable: true
        row_background_color:
          type: string
          nullable: true
        line_break_enabled:
          type: boolean
        completed_at:
          type: string
          format: date-time
          nullable: true
        completed_by_team_member_rns_identity:
          type: string
          nullable: true
        legacy_value:
          type: string
          nullable: true
        cells:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistCell'
      required:
        - task_uid
        - number
        - user_status
        - task_status
        - is_late
        - line_break_enabled
        - cells
    R3aktChecklistTemplate:
      type: object
      properties:
        uid:
          type: string
        template_name:
          type: string
        description:
          type: string
        created_at:
          type: string
          format: date-time
          nullable: true
        created_by_team_member_rns_identity:
          type: string
        updated_at:
          type: string
          format: date-time
          nullable: true
        source_template_uid:
          type: string
          nullable: true
        server_only:
          type: boolean
        columns:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistColumn'
      required:
        - uid
        - template_name
        - description
        - created_by_team_member_rns_identity
        - server_only
        - columns
    R3aktChecklistFeedPublication:
      type: object
      properties:
        publication_uid:
          type: string
        checklist_uid:
          type: string
        mission_feed_uid:
          type: string
        published_at:
          type: string
          format: date-time
          nullable: true
        published_by_team_member_rns_identity:
          type: string
      required:
        - publication_uid
        - checklist_uid
        - mission_feed_uid
        - published_by_team_member_rns_identity
    R3aktChecklist:
      type: object
      properties:
        uid:
          type: string
        mission_uid:
          type: string
          nullable: true
        template_uid:
          type: string
          nullable: true
        template_version:
          type: integer
          nullable: true
        template_name:
          type: string
          nullable: true
        name:
          type: string
        description:
          type: string
        start_time:
          type: string
          format: date-time
          nullable: true
        mode:
          type: string
        sync_state:
          type: string
        origin_type:
          type: string
        checklist_status:
          type: string
        created_at:
          type: string
          format: date-time
          nullable: true
        created_by_team_member_rns_identity:
          type: string
        updated_at:
          type: string
          format: date-time
          nullable: true
        uploaded_at:
          type: string
          format: date-time
          nullable: true
        progress_percent:
          type: number
        counts:
          type: object
          properties:
            pending_count:
              type: integer
            late_count:
              type: integer
            complete_count:
              type: integer
          required:
            - pending_count
            - late_count
            - complete_count
        columns:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistColumn'
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistTask'
        feed_publications:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistFeedPublication'
      required:
        - uid
        - name
        - description
        - mode
        - sync_state
        - origin_type
        - checklist_status
        - created_by_team_member_rns_identity
        - progress_percent
        - counts
        - columns
        - tasks
        - feed_publications
    R3aktChecklistTemplateCreateRequest:
      type: object
      required:
        - template
      properties:
        template:
          $ref: '#/components/schemas/R3aktChecklistTemplate'
    R3aktChecklistTemplateCloneRequest:
      type: object
      required:
        - template_name
      properties:
        template_name:
          type: string
        description:
          type: string
          nullable: true
        created_by_team_member_rns_identity:
          type: string
          nullable: true
    R3aktChecklistTemplateListResponse:
      type: object
      properties:
        templates:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklistTemplate'
      required:
        - templates
    R3aktChecklistListResponse:
      type: object
      properties:
        checklists:
          type: array
          items:
            $ref: '#/components/schemas/R3aktChecklist'
      required:
        - checklists
    R3aktChecklistCreateOnlineRequest:
      type: object
      additionalProperties: true
    R3aktChecklistCreateOfflineRequest:
      type: object
      additionalProperties: true
    R3aktChecklistImportCsvRequest:
      type: object
      required:
        - csv_filename
        - csv_base64
      properties:
        csv_filename:
          type: string
        csv_base64:
          type: string
        mission_uid:
          type: string
          nullable: true
        source_identity:
          type: string
          nullable: true
    R3aktChecklistUpdateRequest:
      type: object
      additionalProperties: true
    R3aktChecklistSourceIdentityRequest:
      type: object
      properties:
        source_identity:
          type: string
          nullable: true
    R3aktChecklistTaskAddRequest:
      type: object
      additionalProperties: true
    R3aktChecklistTaskStatusRequest:
      type: object
      additionalProperties: true
    R3aktChecklistTaskRowStyleRequest:
      type: object
      additionalProperties: true
    R3aktChecklistTaskCellRequest:
      type: object
      additionalProperties: true
    SubscribeTopicRequest:
      type: object
      description: Payload for SubscribeTopic (topic subscription request).
      properties:
        TopicID:
          type: string
          description: Topic identifier to subscribe to.
        Destination:
          type: string
          nullable: true
          description: Destination hash to subscribe (defaults to authenticated identity when omitted).
        RejectTests:
          type: integer
          nullable: true
          description: Optional reject-tests flag (0/1) or numeric mode.
        Metadata:
          type: object
          nullable: true
          additionalProperties: true
          description: Optional subscriber metadata.
      required:
        - TopicID
    WsEnvelope:
      type: object
      description: RCH-WS v1 envelope.
      properties:
        type:
          type: string
        ts:
          type: string
          format: date-time
        data:
          type: object
      required:
        - type
        - ts
        - data
    WsAuthMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [auth]
            data:
              type: object
              properties:
                token:
                  type: string
                  nullable: true
                api_key:
                  type: string
                  nullable: true
              additionalProperties: false
    WsSystemSubscribeMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [system.subscribe]
            data:
              type: object
              properties:
                include_status:
                  type: boolean
                include_events:
                  type: boolean
                events_limit:
                  type: integer
              additionalProperties: false
    WsAuthOkMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [auth.ok]
            data:
              type: object
              additionalProperties: true
    WsErrorMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [error]
            data:
              type: object
              properties:
                code:
                  type: string
                message:
                  type: string
              additionalProperties: true
    WsPingMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [ping]
            data:
              type: object
              properties:
                nonce:
                  type: string
              additionalProperties: false
    WsPongMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [pong]
            data:
              type: object
              properties:
                nonce:
                  type: string
              additionalProperties: false
    WsSystemStatusMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [system.status]
            data:
              $ref: '#/components/schemas/Status'
    WsSystemEventMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [system.event]
            data:
              $ref: '#/components/schemas/Event'
    WsTelemetrySubscribeMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [telemetry.subscribe]
            data:
              type: object
              required:
                - since
              properties:
                since:
                  type: integer
                topic_id:
                  type: string
                  nullable: true
                follow:
                  type: boolean
              additionalProperties: false
    WsTelemetrySnapshotMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [telemetry.snapshot]
            data:
              type: object
              properties:
                entries:
                  type: array
                  items:
                    $ref: '#/components/schemas/TelemetryEntry'
              additionalProperties: false
    WsTelemetryUpdateMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [telemetry.update]
            data:
              type: object
              properties:
                entry:
                  $ref: '#/components/schemas/TelemetryEntry'
              additionalProperties: false
    WsMessageSubscribeMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [message.subscribe]
            data:
              type: object
              properties:
                topic_id:
                  type: string
                  nullable: true
                source_hash:
                  type: string
                  nullable: true
                follow:
                  type: boolean
              additionalProperties: false
    WsMessageSubscribedMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [message.subscribed]
            data:
              type: object
              properties:
                topic_id:
                  type: string
                  nullable: true
                source_hash:
                  type: string
                  nullable: true
                follow:
                  type: boolean
              additionalProperties: false
    WsMessageSendMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [message.send]
            data:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                topic_id:
                  type: string
                  nullable: true
                destination:
                  type: string
                  nullable: true
              additionalProperties: false
    WsMessageSentMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [message.sent]
            data:
              type: object
              properties:
                ok:
                  type: boolean
              additionalProperties: false
    WsMessageReceiveMessage:
      allOf:
        - $ref: '#/components/schemas/WsEnvelope'
        - type: object
          properties:
            type:
              type: string
              enum: [message.receive]
            data:
              type: object
              properties:
                entry:
                  $ref: '#/components/schemas/MessageEntry'
              additionalProperties: false
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
  parameters:
    identity:
      name: identity
      required: true
      description: >-
        Reticulum identity string (usually a hex destination hash) to act on.
      schema:
        type: string
      in: query
    ID:
      name: id
      required: true
      description: >-
        Record identifier (for example TopicID or SubscriberID).
      schema:
        type: string
      in: query
    id:
      name: id
      required: true
      description: >-
        Record identifier (path parameter).
      schema:
        type: string
      in: path
    fileId:
      name: id
      required: true
      description: Numeric identifier for a stored file or image.
      schema:
        type: integer
      in: path
    telemetrySince:
      name: since
      required: true
      description: Unix timestamp (seconds) to start telemetry snapshots from.
      schema:
        type: integer
      in: query
    topicId:
      name: topic_id
      required: false
      description: Optional topic identifier to scope telemetry results.
      schema:
        type: string
      in: query
    identityPath:
      name: id
      required: true
      description: Identity hash to modify.
      schema:
        type: string
      in: path
  responses:
    200Topic_get:
      description: Topic list.
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Topic'
    200Client_get:
      description: Client list.
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Client'
    200Topic_post:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Topic'
    200Topic_delete:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Topic'
    200Topic_patch:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Topic'
    200Subscriber_get:
      description: Subscriber list.
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Subscriber'
    200Subscriber_post:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Subscriber'
    200Subscriber_delete:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Subscriber'
    200Subscriber_patch:
      description: Success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Subscriber'
    '200':
      description: OK
    '201':
      description: Added Object
    '202':
      description: Accepted
    '204':
      description: Deleted
    '400':
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '403':
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '404':
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '405':
      description: Method Not allowed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '409':
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '500':
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '501':
      description: Not Implemented
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    '503':
      description: Service Unavailable
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    'Error':
      description: Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  requestBodies:
    Subscriber:
      description: >-
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Subscriber'
      required: true
    Topic:
      description: >-
        a topic is an argument that can be subscribe to receive notifications
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Topic'
      required: true
    SubscribeTopicRequest:
      description: SubscribeTopic request payload.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SubscribeTopicRequest'
      required: true
    ConfigPayload:
      description: Raw config.ini payload.
      content:
        text/plain:
          schema:
            type: string
      required: true
    ConfigRollback:
      description: Optional rollback payload specifying a backup path.
      content:
        application/json:
          schema:
            type: object
            properties:
              backup_path:
                type: string
      required: false
x-uml-relationships:
  
